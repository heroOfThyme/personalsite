---
import { Icon } from 'astro-icon/components';
import Button from '~/components/ui/Button.astro';
import Image from '~/components/common/Image.astro';

export interface Props {
  name?: string;
  title?: string;
  subtitle?: string;
  image?: {
    src: string;
    alt: string;
  };
  primaryCTA?: {
    text: string;
    href: string;
    icon?: string;
  };
  secondaryCTA?: {
    text: string;
    href: string;
    icon?: string;
  };
  status?: {
    text: string;
    available?: boolean;
  };
}

const {
  name = 'Petar Vidakovic',
  title = 'Full-Stack Developer',
  subtitle = 'Crafting digital experiences with modern web technologies',
  image = {
    src: '~/assets/images/avataaars.png',
    alt: 'Petar Vidakovic',
  },
  primaryCTA = {
    text: 'View My Work',
    href: '#projects',
    icon: 'tabler:arrow-down',
  },
  secondaryCTA = {
    text: "Let's Connect",
    href: '#contact',
    icon: 'tabler:mail',
  },
  status = {
    text: 'Available for work',
    available: true,
  },
} = Astro.props;
---

<div class="bento-hero-card">
  <!-- Gradient Orbs -->
  <div class="hero-decoration">
    <div class="gradient-orb"></div>
    <div class="gradient-orb"></div>
  </div>

  <div class="hero-layout">
    <div class="hero-content">
      <!-- Status Badge -->
      {
        status && (
          <div class="status-badge">
            <span class={`status-indicator ${status.available ? 'available' : 'busy'}`} />
            <span class="status-text">{status.text}</span>
          </div>
        )
      }

      <!-- Main Content -->
      <div class="hero-text">
        <h1 class="hero-name">
          <span class="gradient-text">{title.split('.')[0]}</span><span class="first-name">. {title.split('.').slice(1).join('.')}</span>
        </h1>

        <p class="hero-subtitle">{subtitle}</p>
      </div>

      <!-- CTAs -->
      <div class="hero-actions">
        <Button variant="primary" href={primaryCTA.href} class="primary-cta">
          {primaryCTA.text}
          {primaryCTA.icon && <Icon name={primaryCTA.icon} class="cta-icon" />}
        </Button>

        <Button variant="secondary" href={secondaryCTA.href} class="secondary-cta">
          {secondaryCTA.text}
          {secondaryCTA.icon && <Icon name={secondaryCTA.icon} class="cta-icon" />}
        </Button>
      </div>
    </div>
  </div>
</div>

<style>
  .bento-hero-card {
    position: relative;
    height: 100%;
    min-height: 100vh;
    background: #000;
    border: none;
    border-radius: 0;
    padding: 0;
    overflow: hidden;
    display: flex;
    align-items: center;
    justify-content: center;
  }

  .bento-hero-card::before {
    content: '';
    position: absolute;
    inset: 0;
    background-image: linear-gradient(to right, rgba(255, 255, 255, 0.03) 1px, transparent 1px),
      linear-gradient(to bottom, rgba(255, 255, 255, 0.03) 1px, transparent 1px);
    background-size: 48px 48px;
  }

  .hero-layout {
    display: flex;
    align-items: center;
    justify-content: center;
    text-align: center;
    height: 100%;
    gap: 0;
    position: relative;
    z-index: 10;
    padding: 1.5rem;
  }

  .hero-content {
    flex: 1;
    display: flex;
    flex-direction: column;
    justify-content: center;
    align-items: center;
    gap: 1rem;
    max-width: 80rem;
  }

  .hero-image {
    display: none;
  }

  .image-container {
    position: relative;
    width: 350px;
    height: 350px;
  }

  .profile-image {
    width: 100%;
    height: 100%;
    border-radius: 20px;
    object-fit: cover;
    border: 2px solid rgba(236, 72, 153, 0.3);
    transition: all 0.3s ease;
  }

  .profile-image:hover {
    border-color: rgba(236, 72, 153, 0.6);
    transform: scale(1.02);
  }

  .image-glow {
    position: absolute;
    inset: -10px;
    background: linear-gradient(45deg, rgba(236, 72, 153, 0.3), rgba(168, 85, 247, 0.3));
    border-radius: 30px;
    filter: blur(20px);
    opacity: 0.6;
    z-index: -1;
    animation: pulse-glow 4s ease-in-out infinite;
  }

  .status-badge {
    display: inline-flex;
    align-items: center;
    gap: 0.5rem;
    padding: 0.375rem 0.75rem;
    background: rgba(255, 255, 255, 0.05);
    border: 1px solid rgba(255, 255, 255, 0.1);
    border-radius: 9999px;
    font-size: 0.75rem;
    font-weight: 400;
    color: rgb(156, 163, 175);
    width: fit-content;
    backdrop-filter: blur(4px);
  }

  .status-indicator {
    width: 6px;
    height: 6px;
    border-radius: 50%;
    position: relative;
  }

  .status-indicator::before {
    content: '';
    position: absolute;
    inset: 0;
    border-radius: 50%;
    background: rgb(34, 197, 94);
    animation: ping 2s cubic-bezier(0, 0, 0.2, 1) infinite;
  }

  .status-indicator.available {
    background: rgb(34, 197, 94);
  }

  .status-indicator.busy {
    background: rgb(239, 68, 68);
  }

  .hero-text {
    space-y: 1rem;
  }

  .hero-name {
    font-family: 'Manrope', sans-serif;
    font-size: clamp(2.25rem, 5vw, 3.75rem);
    font-weight: 700;
    line-height: 1.2;
    color: white;
    margin: 0;
    letter-spacing: -0.025em;
  }

  .first-name {
    color: white;
  }

  .gradient-text {
    background: linear-gradient(to right, rgb(236, 72, 153), rgb(168, 85, 247), rgb(59, 130, 246));
    -webkit-background-clip: text;
    -webkit-text-fill-color: transparent;
    background-clip: text;
  }

  .hero-title {
    font-size: 1rem;
    font-weight: 500;
    color: rgb(196, 181, 253);
    margin: 0.5rem 0 0 0;
  }

  .hero-subtitle {
    font-size: clamp(0.875rem, 2vw, 1rem);
    color: rgb(156, 163, 175);
    margin: 0.5rem 0 0 0;
    max-width: 32rem;
  }

  .hero-actions {
    display: flex;
    flex-direction: column;
    gap: 0.75rem;
    margin-top: 1rem;
  }

  @media (min-width: 640px) {
    .hero-actions {
      flex-direction: row;
    }
  }

  .primary-cta {
    background: linear-gradient(to right, rgb(236, 72, 153), rgb(168, 85, 247)) !important;
    border: none !important;
    color: white !important;
    font-weight: 500;
    padding: 0.625rem 1.5rem;
    border-radius: 0.5rem;
    font-size: 0.875rem;
    transition: all 0.2s ease;
    box-shadow: 0 10px 15px -3px rgba(236, 72, 153, 0.5), 0 4px 6px -4px rgba(236, 72, 153, 0.5);
  }

  .primary-cta:hover {
    transform: scale(1.05);
    box-shadow: 0 20px 25px -5px rgba(236, 72, 153, 0.5), 0 8px 10px -6px rgba(236, 72, 153, 0.5);
  }

  .secondary-cta {
    background: rgba(255, 255, 255, 0.05) !important;
    border: 1px solid rgba(255, 255, 255, 0.1) !important;
    color: white !important;
    font-weight: 500;
    padding: 0.625rem 1.5rem;
    border-radius: 0.5rem;
    font-size: 0.875rem;
    transition: all 0.2s ease;
    backdrop-filter: blur(4px);
  }

  .secondary-cta:hover {
    background: rgba(255, 255, 255, 0.1) !important;
  }

  .cta-icon {
    width: 1.25rem;
    height: 1.25rem;
    margin-left: 0.5rem;
  }

  .hero-decoration {
    position: absolute;
    top: 0;
    right: 0;
    width: 100%;
    height: 100%;
    pointer-events: none;
    z-index: 1;
  }

  .floating-icon {
    position: absolute;
    top: 2rem;
    right: 2rem;
    width: 3rem;
    height: 3rem;
    color: rgba(236, 72, 153, 0.3);
    animation: float 6s ease-in-out infinite;
  }

  .gradient-orb {
    position: absolute;
    width: 384px;
    height: 384px;
    background: rgba(168, 85, 247, 0.2);
    border-radius: 50%;
    filter: blur(80px);
    animation: pulse-glow 4s ease-in-out infinite;
  }

  .gradient-orb:nth-child(1) {
    top: 25%;
    left: -12rem;
    background: rgba(236, 72, 153, 0.2);
  }

  .gradient-orb:nth-child(2) {
    bottom: 25%;
    right: -12rem;
    background: rgba(168, 85, 247, 0.2);
    animation-delay: 1s;
  }

  @keyframes pulse {
    0%,
    100% {
      opacity: 1;
    }
    50% {
      opacity: 0.6;
    }
  }

  @keyframes ping {
    75%,
    100% {
      transform: scale(2);
      opacity: 0;
    }
  }

  @keyframes float {
    0%,
    100% {
      transform: translateY(0px) rotate(0deg);
    }
    50% {
      transform: translateY(-20px) rotate(5deg);
    }
  }

  @keyframes pulse-glow {
    0%,
    100% {
      opacity: 0.6;
      transform: scale(1);
    }
    50% {
      opacity: 0.8;
      transform: scale(1.1);
    }
  }

  /* Mobile responsiveness */
  @media (max-width: 768px) {
    .bento-hero-card {
      padding: 0;
      min-height: 100vh;
    }

    .hero-layout {
      padding: 1rem;
    }

    .floating-icon {
      display: none;
    }
  }
</style>
